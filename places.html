<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Places • Montafon Moonlight</title>

  <!-- Fonts / Tailwind / Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" />

  <!-- Leaflet for map -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <style>
    :root{ --bg:#ffffff; --text:#111827; --muted:#64748b; --card:#f8fafc; --border:#e5e7eb; --link:#2563eb; }
    html[data-theme="dark"]{ --bg:#0b1220; --text:#e5e7eb; --muted:#94a3b8; --card:#111827; --border:#243244; --link:#8ab4ff; }
    html,body{ background:var(--bg); color:var(--text); }
    a{ color:var(--link); text-decoration:none; } a:hover{ text-decoration:underline; }
    body,h1,h2,h3,h4,h5,h6,p,a,span,li,nav,div,small,button{ font-family:'Inter',sans-serif!important; }

    header.stickybar{ position:sticky; top:0; z-index:40; background:var(--bg); border-bottom:1px solid var(--border); }
    .content-wrap{ max-width:1000px; margin:0 auto; padding:2rem 1.25rem; }
    .place-card{ background:var(--card); border:1px solid var(--border); border-radius:0.75rem; padding:1.5rem; margin-bottom:1.5rem; transition:all 0.2s ease; }
    .place-card:hover{ transform:translateY(-2px); box-shadow:0 4px 6px rgba(0,0,0,0.1); }
    .place-name{ font-size:1.5rem; font-weight:700; color:var(--text); margin-bottom:0.25rem; }
    .place-korean{ color:var(--muted); font-size:1rem; margin-bottom:0.75rem; }
    .place-desc{ color:var(--text); line-height:1.75; }
    .section-title{ font-size:1.875rem; font-weight:700; margin-bottom:1.5rem; padding-bottom:0.75rem; border-bottom:2px solid var(--border); }
    #map-austria, #map-korea{ height:400px; border-radius:0.5rem; border:1px solid var(--border); margin-bottom:0.5rem; }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="stickybar">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
      <div class="min-w-0">
        <h1 class="font-bold text-2xl" style="color:#2563eb;">
          <i class="fas fa-book mr-2"></i>
          <a href="index.html" class="hover:underline" style="color:#2563eb;">Montafon Moonlight</a>
        </h1>
        <p class="text-sm" style="color:var(--muted);">Translated from Korean • Updates weekly</p>
      </div>
      <button id="theme-toggle" class="p-2 rounded border" style="color:var(--muted); border-color:var(--border);" aria-label="Toggle theme">
        <i class="fas fa-moon"></i>
      </button>
    </div>
  </header>

  <!-- Main -->
  <main class="content-wrap">
    <nav class="text-sm mb-3" style="color:var(--muted);" aria-label="Breadcrumb">
      <a href="index.html" class="hover:underline">Home</a> <span aria-hidden="true">›</span>
      <span>Places</span>
    </nav>

    <h2 class="section-title">Places in Montafon Moonlight</h2>

    <!-- Austria Map -->
    <div style="background:var(--card); padding:1.5rem; border-radius:0.75rem; border:1px solid var(--border); margin-bottom:2rem;">
      <h3 style="font-size:1.25rem; font-weight:600; margin-bottom:1rem; color:var(--text);">
        <i class="fas fa-mountain mr-2"></i>Austria
      </h3>
      <div id="map-austria"></div>
      <p style="font-size:0.875rem; color:var(--muted); text-align:center; margin-top:0.5rem;">
        <i class="fas fa-info-circle mr-1"></i>Click markers to see details about each location
      </p>
    </div>

    <!-- Korea Map -->
    <div style="background:var(--card); padding:1.5rem; border-radius:0.75rem; border:1px solid var(--border); margin-bottom:2rem;">
      <h3 style="font-size:1.25rem; font-weight:600; margin-bottom:1rem; color:var(--text);">
        <i class="fas fa-torii-gate mr-2"></i>Korea
      </h3>
      <div id="map-korea"></div>
      <p style="font-size:0.875rem; color:var(--muted); text-align:center; margin-top:0.5rem;">
        <i class="fas fa-info-circle mr-1"></i>Click markers to see details about each location
      </p>
    </div>

    <!-- Austrian Places -->
    <h3 style="font-size:1.25rem; font-weight:600; margin-bottom:1rem; color:var(--text);">
      <i class="fas fa-mountain mr-2"></i>Austria
    </h3>

    <div class="place-card">
      <h4 class="place-name">Montafon</h4>
      <p class="place-korean">몬타폰</p>
      <p class="place-desc">An alpine valley in western Austria (Vorarlberg), home to Herbert Willi. Known for its stunning mountain scenery and traditional Austrian culture. The namesake of the novel.</p>
    </div>

    <div class="place-card">
      <h4 class="place-name">Vienna</h4>
      <p class="place-korean">빈</p>
      <p class="place-desc">Capital of Austria. A city of classical music, imperial history, and coffeehouse culture. Connected to the story through Austrian characters and cultural exchange.</p>
    </div>

    <div class="place-card">
      <h4 class="place-name">Ihwajang</h4>
      <p class="place-korean">이화장</p>
      <p class="place-desc">Dr. Syngman Rhee's residence, a historical location connected to Korean-Austrian relations.</p>
    </div>

    <!-- Korean Places -->
    <h3 style="font-size:1.25rem; font-weight:600; margin:2rem 0 1rem 0; color:var(--text);">
      <i class="fas fa-torii-gate mr-2"></i>Korea
    </h3>

    <div class="place-card">
      <h4 class="place-name">Ibuljae</h4>
      <p class="place-korean">이불재</p>
      <p class="place-desc">Author Jeong Chanju's mountain retreat home in Korea. A place of contemplation and writing, surrounded by nature.</p>
    </div>

    <div class="place-card">
      <h4 class="place-name">Ssangbong-sa</h4>
      <p class="place-korean">쌍봉사</p>
      <p class="place-desc">Buddhist temple located below Ibuljae. A place of spiritual practice and community.</p>
    </div>

    <div class="place-card">
      <h4 class="place-name">Beomnyeon-sa</h4>
      <p class="place-korean">범련사</p>
      <p class="place-desc">Buddhist temple in Seoul, representing the urban Buddhist community.</p>
    </div>

    <div class="place-card">
      <h4 class="place-name">Bulil-am</h4>
      <p class="place-korean">불일암</p>
      <p class="place-desc">Mountain hermitage where Venerable Beopjeong lived and practiced. A sacred place of meditation and simplicity, embodying the philosophy of <em>Musoyu</em> (non-possession).</p>
    </div>

    <div class="place-card">
      <h4 class="place-name">Haein-sa</h4>
      <p class="place-korean">해인사</p>
      <p class="place-desc">One of Korea's most important Buddhist temples, known for housing the Tripitaka Koreana woodblocks.</p>
    </div>

    <div class="place-card">
      <h4 class="place-name">Jeollanam-do</h4>
      <p class="place-korean">전라남도</p>
      <p class="place-desc">South Jeolla Province in southwestern Korea, a region rich in history and natural beauty.</p>
    </div>

    <footer class="border-t mt-10 pt-5" style="border-color:var(--border);">
      <p class="text-center text-sm" style="color:var(--muted);">
        <a href="cast.html" class="hover:underline">← View Cast</a> •
        <a href="index.html" class="hover:underline">Back to Index</a>
      </p>
    </footer>
  </main>

  <!-- Script -->
  <script>
    /* Theme toggle */
    (function(){
      const KEY="theme", root=document.documentElement, btn=document.getElementById("theme-toggle");
      function apply(t){ t==="dark" ? root.setAttribute("data-theme","dark") : root.removeAttribute("data-theme"); }
      function initial(){ const s=localStorage.getItem(KEY); if(s==="dark"||s==="light") return s; return matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"; }
      function reflect(t){ if(!btn) return; btn.setAttribute("aria-pressed",t==="dark"?"true":"false"); const i=btn.querySelector("i"); i.className = t==="dark"?"fas fa-sun":"fas fa-moon"; }
      let cur=initial(); apply(cur); reflect(cur);
      matchMedia("(prefers-color-scheme: dark)").addEventListener?.("change", e=>{ if(localStorage.getItem(KEY)) return; cur=e.matches?"dark":"light"; apply(cur); reflect(cur); });
      btn?.addEventListener("click", ()=>{ cur=cur==="dark"?"light":"dark"; localStorage.setItem(KEY,cur); apply(cur); reflect(cur); });
    })();

    /* Austria Map */
    const mapAustria = L.map('map-austria').setView([47.5, 10.5], 8);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors',
      maxZoom: 19
    }).addTo(mapAustria);

    // Montafon location
    const montafonMarker = L.marker([47.0333, 9.9667]).addTo(mapAustria);
    montafonMarker.bindPopup('<strong>Montafon Valley</strong><br>Alpine valley in Vorarlberg, Austria<br>Home of Herbert Willi');

    // Vienna
    const viennaMarker = L.marker([48.2082, 16.3738]).addTo(mapAustria);
    viennaMarker.bindPopup('<strong>Vienna (Wien)</strong><br>Capital of Austria<br>Cultural center<br>Location of Ihwajang');

    // Fit bounds for Austria
    const groupAustria = L.featureGroup([montafonMarker, viennaMarker]);
    mapAustria.fitBounds(groupAustria.getBounds().pad(0.2));

    /* Korea Map */
    const mapKorea = L.map('map-korea').setView([36.0, 127.5], 7);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors',
      maxZoom: 19
    }).addTo(mapKorea);

    // Ibuljae - author's mountain retreat
    const ibuljaeMkr = L.marker([34.887244, 127.063604]).addTo(mapKorea);
    ibuljaeMkr.bindPopup('<strong>Ibuljae</strong> (이불재)<br>Author Jeong Chanju\'s mountain retreat<br>Place of contemplation and writing');

    // Ssangbong-sa - temple below Ibuljae
    const ssangbongsaMkr = L.marker([34.883, 127.058]).addTo(mapKorea);
    ssangbongsaMkr.bindPopup('<strong>Ssangbong-sa</strong> (쌍봉사)<br>Buddhist temple below Ibuljae<br>Place of spiritual practice');

    // Seoul (Beomnyeon-sa)
    const seoulMkr = L.marker([37.5665, 126.9780]).addTo(mapKorea);
    seoulMkr.bindPopup('<strong>Beomnyeon-sa</strong> (범련사)<br>Buddhist temple in Seoul<br>Urban Buddhist community');

    // Bulil-am hermitage (Gangwon Province)
    const bulilamMkr = L.marker([37.736, 128.462]).addTo(mapKorea);
    bulilamMkr.bindPopup('<strong>Bulil-am</strong> (불일암)<br>Mountain hermitage of Venerable Beopjeong<br>Sacred place of meditation and simplicity');

    // Haein-sa temple
    const haheinsaMkr = L.marker([35.798, 128.098]).addTo(mapKorea);
    haheinsaMkr.bindPopup('<strong>Haein-sa</strong> (해인사)<br>One of Korea\'s most important temples<br>Houses the Tripitaka Koreana woodblocks');

    // Jeollanam-do province marker (approximate center)
    const jeollanamMkr = L.marker([34.816, 126.463]).addTo(mapKorea);
    jeollanamMkr.bindPopup('<strong>Jeollanam-do</strong> (전라남도)<br>South Jeolla Province<br>Southwestern Korea');

    // Fit bounds for Korea
    const groupKorea = L.featureGroup([ibuljaeMkr, ssangbongsaMkr, seoulMkr, bulilamMkr, haheinsaMkr, jeollanamMkr]);
    mapKorea.fitBounds(groupKorea.getBounds().pad(0.1));
  </script>
</body>
</html>
